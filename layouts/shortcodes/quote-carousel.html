<!-- Quote Carousel Container -->
<style>
    .quote-carousel {
        padding: 2rem 1rem;
    }

    .quote-carousel .swiper-slide {
        min-height: 120px;
        display: block; /* ← no flexbox centering */
        text-align: left; /* ← or remove this line entirely */
    }

    .quote-carousel blockquote {
        font-style: italic;
        font-size: 1.2rem;
        line-height: 1.4;
        margin: 0; /* ← removes auto centering */
        max-width: none; /* ← removes width constraint */
    }

    .quote-carousel footer {
        margin-top: 0.5rem;
        font-size: 1rem;
        color: #555;
    }
    .quote-carousel {
        width: 100%;
        overflow: hidden;
    }

    .quote-carousel {
        display: flex;
        transition-timing-function: ease;
    }

    .quote-carousel .swiper-slide {
        flex-shrink: 0;
        width: 100%; /* very important for single-slide display */
        box-sizing: border-box;
    }
</style>

<div class="quote-carousel swiper">
    <div class="swiper-wrapper">
        {{ range site.Data.quotes.quotes.carousel_quotes }}
        <div class="swiper-slide">
            <blockquote>
                “{{ .text }}”
                <footer>— {{ .author }}</footer>
            </blockquote>
        </div>
        {{ end }}
    </div>

    <!--
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
    -->
</div>

<!-- Swiper dependencies (only once globally!) -->
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>

<!-- Scoped initialization for quote carousel -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        console.log(
            "Initializing Swiper: found",
            document.querySelectorAll(".quote-carousel .swiper-slide").length,
            "slides",
        );

        new Swiper(".quote-carousel", {
            loop: true,
            slidesPerView: 1, // ✅ Force only one quote at a time
            autoplay: {
                delay: 12000,
                disableOnInteraction: false,
            },
            navigation: {
                nextEl: ".quote-carousel .swiper-button-next",
                prevEl: ".quote-carousel .swiper-button-prev",
            },
            pagination: {
                el: ".quote-carousel .swiper-pagination",
                clickable: true,
            },
        });
    });
</script>
